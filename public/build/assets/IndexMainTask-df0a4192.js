import{b as d,w as x}from"./runtime-dom.esm-bundler-96a1b9d2.js";import{d as b}from"./index-73543de1.js";import{a as C}from"./ShowMainTask-6025906f.js";import{a as $}from"./CreateMainTask-529c106d.js";import{D as R,j as c,g as S,o as l,c as a,d as e,k as f,F as B,E as O,a as k,f as _,t as U}from"./index-6dfe74f8.js";const V={class:"flex h-screen-minus-14"},I={class:"w-3/5 h-full overflow-y-scroll"},D={class:"my-3 mr-3 p-4 bg-white"},A={class:"flex"},E=e("h1",{class:"mx-4 my-2 text-3xl font-extrabold w-3/4"},"現在のタスク一覧",-1),F={class:"flex justify-end w-full"},N={class:"flex items-center mx-3"},z=e("label",{for:"未着手",class:"bg-blue-100 px-2"},"未着手",-1),L={class:"flex items-center mx-3"},P=e("label",{for:"着手中",class:"bg-red-100 px-2"},"着手中",-1),q={class:"flex items-center mx-3"},G=e("label",{for:"完了",class:"bg-green-100 px-2"},"完了",-1),H=e("div",null,"メインタスクを追加する",-1),J=[H],K=e("hr",null,null,-1),Q=["onClick"],W={class:"flex flex-col justify-center items-center w-2/12 mx-6"},X={key:0,class:"flex justify-center w-full my-1 bg-green-100"},Y={key:1,class:"flex justify-center w-full my-1 bg-red-100"},Z={key:2,class:"flex justify-center w-full my-1 bg-blue-100"},ee=["onClick"],se=["onClick"],te={class:"mt-8 w-9/12 font-semibold"},oe={__name:"IndexMainTask",props:{maintasks:Object,user:Object,taskStatuses:Array,priorityRanks:Array,errors:Object},setup(h){const n=h,{maintasks:g}=R(n),w=t=>{b.Inertia.delete(`/mainTask/${t}`,{onBefore:()=>confirm("本当に削除しますか?")})},i=c(!1),u=c(!1),p=c(),j=t=>{u.value=!1,i.value=!0,p.value=t},v=c(),m=t=>{i.value=!1,u.value=!0,v.value=t},T=t=>{b.Inertia.get(`finishMainTask/${t}`)},r=c({未着手:!0,着手中:!0,完了:!0}),M=S(()=>g.value.filter(t=>r.value[t.status]));return(t,o)=>(l(),a("div",V,[e("div",I,[e("div",D,[e("div",A,[E,e("div",F,[e("div",N,[f(e("input",{type:"checkbox",id:"未着手","onUpdate:modelValue":o[0]||(o[0]=s=>r.value.未着手=s),class:"mx-1 focus:ring-0"},null,512),[[d,r.value.未着手]]),z]),e("div",L,[f(e("input",{type:"checkbox",id:"着手中","onUpdate:modelValue":o[1]||(o[1]=s=>r.value.着手中=s),class:"mx-1 focus:ring-0"},null,512),[[d,r.value.着手中]]),P]),e("div",q,[f(e("input",{type:"checkbox",id:"完了","onUpdate:modelValue":o[2]||(o[2]=s=>r.value.完了=s),class:"mx-1 focus:ring-0"},null,512),[[d,r.value.完了]]),G])])]),e("div",{class:"m-4 py-3 text-blue-600 font-semibold bg-white border-2 rounded flex justify-center hover:bg-gray-100 rounded cursor-pointer",onClick:o[3]||(o[3]=s=>j(n.user))},J),K,(l(!0),a(B,null,O(M.value,s=>(l(),a("div",{key:s.id},[e("div",{class:"flex m-4 bg-white border-2 rounded cursor-pointer hover:bg-slate-100",onClick:y=>{m(s),u.value=!0}},[e("div",W,[s.status==="完了"?(l(),a("span",X,"完了")):s.status==="着手中"?(l(),a("span",Y,"着手中")):s.status==="未着手"?(l(),a("span",Z,"未着手")):_("",!0),e("input",{type:"checkbox",class:"my-1",onClick:x(y=>T(s.id),["stop"])},null,8,ee),e("button",{class:"inline-flex items-center justify-center text-white my-1 py-1 px-2 bg-gray-600 border-0focus:outline-none hover:bg-red-700 rounded",onClick:x(y=>w(s.id),["stop"])},"削除",8,se)]),e("p",te,U(s.title),1)],8,Q)]))),128))])]),i.value&&!u.value?(l(),k($,{key:0,user:p.value,statuses:n.taskStatuses,priorityRanks:n.priorityRanks,errors:n.errors,onCreate:o[4]||(o[4]=s=>i.value=!1)},null,8,["user","statuses","priorityRanks","errors"])):_("",!0),u.value&&!i.value?(l(),k(C,{key:1,statuses:n.taskStatuses,priorityRanks:n.priorityRanks,mainTask:v.value,onUpdate:m},null,8,["statuses","priorityRanks","mainTask"])):_("",!0)]))}},ue=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{ue as _};
